<!--
  Available Angular form validation error types:
  - required: Field is mandatory
  - minlength: Text is shorter than required minimum length
  - maxlength: Text exceeds maximum allowed length
  - email: Invalid email format
  - pattern: Text doesn't match required pattern
  - min: Value is less than minimum
  - max: Value exceeds maximum

  Usage example:
  <app-text-input
    formControlName="email"
    [label]="'Email'"
    [required]="true"
    [formControl]="form.get('email')"
    [showError]="submitted && !!form.get('email')?.errors"
  ></app-text-input>
-->

<div class="relative">
  <!-- Input Label -->
  <app-label [label]="label" [required]="required" [for]="id"></app-label>

  <!-- Text Input Container -->
  <div class="input-container">
    <div class="text-input">
      <!-- Text input icon can be added here if needed -->
      <svg
        *ngIf="type === 'search'"
        class="input-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>

      <input
        [type]="type"
        [id]="id"
        [name]="name"
        [placeholder]="placeholder | translate"
        class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-pdo-green focus:border-pdo-green dark:bg-gray-700 dark:text-white"
        [ngClass]="{'border-red-500': hasErrors && touched}"
        [(ngModel)]="value"
        (input)="onInputChange($event)"
        (blur)="onTouched()"
        [disabled]="disabled"
        [attr.required]="required"
      />
    </div>
  </div>

  <!-- Error Message -->
  <div *ngIf="hasErrors && touched && errorMessage" class="mt-1 text-sm text-red-600">
    {{ errorMessage | translate }}
  </div>
</div>
